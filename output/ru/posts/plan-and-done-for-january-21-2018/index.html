<!DOCTYPE html>
<html prefix="og: http://ogp.me/ns# article: http://ogp.me/ns/article# " lang="ru">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Plan and done for January-21-2018 | Learn another day</title>
<link href="../../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS (en)" href="../../../rss.xml">
<link rel="alternate" type="application/rss+xml" title="RSS (ru)" href="../../rss.xml">
<link rel="canonical" href="https://al1s.github.io/ru/posts/plan-and-done-for-january-21-2018/">
<!--[if lt IE 9]><script src="../../../assets/js/html5.js"></script><![endif]--><meta name="author" content="alstof">
<link rel="prev" href="../plan-and-done-for-november-08-2017/" title="Plan and done for November-08-2017" type="text/html">
<link rel="next" href="../plan-and-done-for-january-28-2018/" title="Plan and done for January-28-2018" type="text/html">
<meta property="og:site_name" content="Learn another day">
<meta property="og:title" content="Plan and done for January-21-2018">
<meta property="og:url" content="https://al1s.github.io/ru/posts/plan-and-done-for-january-21-2018/">
<meta property="og:description" content='What will I learn today?
FreeCodeCamp project: Calculator.


Done

To invoke numeric keyboard on mobile we need:

&lt;input type="tel" /&gt;



And type="number" gives numeric keyboard too, but without symb'>
<meta property="og:type" content="article">
<meta property="article:published_time" content="2018-01-21T07:31:31-07:00">
<meta property="article:tag" content="freeCodeCamp">
<meta property="article:tag" content="javascript">
<link rel="alternate" hreflang="en" href="../../../posts/plan-and-done-for-january-21-2018/">
</head>
<body>
<a href="#content" class="sr-only sr-only-focusable">Перейти к главному содержимому</a>

<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-static-top"><div class="container">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-navbar" aria-controls="bs-navbar" aria-expanded="false">
            <span class="sr-only">Включить навигацию</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="https://al1s.github.io/ru/">

                <span id="blog-title">Learn another day</span>
            </a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse" id="bs-navbar" role="navigation" aria-expanded="false">
            <ul class="nav navbar-nav">
<li>
<a href="../../archive.html">Архив</a>
                </li>
<li>
<a href="../../categories/">Тэги</a>
                </li>
<li>
<a href="../../rss.xml">RSS лента</a>

                
            </li>
</ul>
<ul class="nav navbar-nav navbar-right">
<li>
            </li>
<li><a href="https://al1s.github.io/" rel="alternate" hreflang="en">English</a></li>

                
                    
    <li>
    <a href="index.rst" id="sourcelink">Источник</a>
    </li>

                
            </ul>
</div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container -->
</nav><!-- End of Menubar --><div class="container" id="content" role="main">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
            
<article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">Plan and done for January-21-2018</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    alstof
            </span></p>
            <p class="dateline"><a href="." rel="bookmark"><time class="published dt-published" datetime="2018-01-21T07:31:31-07:00" itemprop="datePublished" title="2018-01-21 07:31">2018-01-21 07:31</time></a></p>
            
        <p class="sourceline"><a href="index.rst" class="sourcelink">Источник</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<div class="section" id="what-will-i-learn-today">
<h2>What will I learn today?</h2>
<p>FreeCodeCamp project: Calculator.</p>
</div>
<div class="section" id="done">
<h2>Done</h2>
<ol class="arabic">
<li>
<p class="first">To invoke numeric keyboard on mobile we need:</p>
<pre class="literal-block">
&lt;input type="tel" /&gt;
</pre>
</li>
</ol>
<p>And <code>type="number"</code> gives numeric keyboard too, but without symbols for arithmetic operations.</p>
<ol class="arabic" start="2">
<li>
<p class="first">Tried to implement insertion of digits into <code>&lt;input&gt;</code> with <code>execCommand('insertText', ...)</code> but it seems doesn't work in FF (v57.0.4). Found old working code on SO - <a class="reference external" href="https://stackoverflow.com/a/1064139">https://stackoverflow.com/a/1064139</a>. It has separate routes for old IE &lt; 9.0 and modern browsers, and the way to put elements in text field is to manually cut and then concatenate text in the field. Had some troubles with inability to put cursor at the end of the whole text after insertion but found it was due sending number primitive into the function instead of string.</p>
</li>
<li>
<p class="first">To turn off virtual keyboard on mobile we may use HTML5 <code>readonly</code> property for <code>input</code> - <a class="reference external" href="https://codepen.io/agorilla/pen/FJIic">https://codepen.io/agorilla/pen/FJIic</a>. But it makes impossible to control calculator using real keyboard. How to detect activation of the <code>input</code> field by user? By intercepting <cite>click</cite> mouse event. And to route <code>click</code> and <code>touchend</code> events differently inside a handler.</p>
</li>
<li>
<p class="first">How to set one handler for multiple events? <code>['click', 'touchend'].forEach(e =&gt; document.addEventListener(e, handlerFunc);</code>.</p>
</li>
<li>
<p class="first">Add vibration for pressing virtual keys on mobile:</p>
<pre class="code javascript"><a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-1"></a><span class="kd">function</span> <span class="nx">vibrateOnTouch</span><span class="p">()</span> <span class="p">{</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-2"></a>  <span class="k">if</span> <span class="p">(</span><span class="s1">'vibrate'</span> <span class="k">in</span> <span class="nx">navigator</span><span class="p">)</span> <span class="p">{</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-3"></a>    <span class="nx">navigator</span><span class="p">.</span><span class="nx">vibrate</span> <span class="o">=</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-4"></a>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">vibrate</span> <span class="o">||</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-5"></a>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">webkitVibrate</span> <span class="o">||</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-6"></a>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">mozVibrate</span> <span class="o">||</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-7"></a>      <span class="nx">navigator</span><span class="p">.</span><span class="nx">msVibrate</span><span class="p">;</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-8"></a>    <span class="nx">navigator</span><span class="p">.</span><span class="nx">vibrate</span><span class="p">(</span><span class="mi">30</span><span class="p">);</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-9"></a>  <span class="p">}</span>
<a name="rest_code_79cb7cd1753f4753a5cfb455c2ea97fc-10"></a><span class="p">}</span>
</pre>
</li>
<li>
<p class="first">I applied Kyle Simpson's OLOO pattern by separating data processing and UI into different objects and then creating and invoking application as a combination of those two. Feels clearer than mashup of both into one peace of code.</p>
</li>
<li>
<p class="first">As a start point for UI I've choosen keybord JQuery plugin - <a class="reference external" href="https://github.com/Mottie/Keyboard/blob/master/js/jquery.keyboard.js">https://github.com/Mottie/Keyboard/blob/master/js/jquery.keyboard.js</a>.</p>
</li>
<li>
<p class="first">Almost perfection - <a class="reference external" href="https://web2.0calc.com/">https://web2.0calc.com/</a></p>
</li>
</ol>
</div>
</div>
    </div>
    <aside class="postpromonav"><nav><ul itemprop="keywords" class="tags">
<li><a class="tag p-category" href="../../categories/freecodecamp/" rel="tag">freeCodeCamp</a></li>
            <li><a class="tag p-category" href="../../categories/javascript/" rel="tag">javascript</a></li>
        </ul>
<ul class="pager hidden-print">
<li class="previous">
                <a href="../plan-and-done-for-november-08-2017/" rel="prev" title="Plan and done for November-08-2017">Предыдущая запись</a>
            </li>
            <li class="next">
                <a href="../plan-and-done-for-january-28-2018/" rel="next" title="Plan and done for January-28-2018">Следующая запись</a>
            </li>
        </ul></nav></aside></article>
</div>
        <!--End of body content-->

        <footer id="footer">
            Contents © 2018         <a href="mailto:alstof@gmail.com">alstof</a> - Powered by         <a href="https://getnikola.com" rel="nofollow">Nikola</a>         
            
        </footer>
</div>
</div>


            <script src="../../../assets/js/all-nocdn.js"></script><script src="../../../assets/js/colorbox-i18n/jquery.colorbox-ru.js"></script><script>$('a.image-reference:not(.islink) img:not(.islink)').parent().colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script><!-- fancy dates --><script>
    moment.locale("ru");
    fancydates(0, "YYYY-MM-DD HH:mm");
    </script><!-- end fancy dates -->
</body>
</html>
