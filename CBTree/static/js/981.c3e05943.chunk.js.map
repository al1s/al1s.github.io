{"version":3,"file":"static/js/981.c3e05943.chunk.js","mappings":"4OAsBA,MA8FA,EA9FiCA,KAAO,IAADC,EAAAC,EAAAC,EACtC,MAAMC,GAAQC,EAAAA,EAAAA,MACRC,GAAWC,EAAAA,EAAAA,OACX,SACLC,EAAQ,aACRC,EACAC,WAAW,OAAEC,EAAM,aAAEC,KAClBC,EAAAA,EAAAA,MA6BJ,OACCC,EAAAA,EAAAA,MAACC,EAAAA,GAAI,CAACC,EAAG,EAAGC,QAAS,SAAUC,OAAQ,OAAQC,eAAgB,SAASC,SAAA,EACvEC,EAAAA,EAAAA,KAACC,EAAAA,GAAO,CAAAF,SAAC,+BACTC,EAAAA,EAAAA,KAACE,EAAAA,GAAI,CACJC,MAAM,QACNC,EAAG,EACHC,KAAM,KACNC,GAAI,EACJC,EAAG,OACHC,UAAW,OAAOT,SAClB,mEAGDN,EAAAA,EAAAA,MAAA,QAAMgB,SAAUrB,EAxC2BsB,IAC5C,GAAIA,EAAOC,WAAaD,EAAOE,gBAK9B,YAJA7B,EAAM,CACL8B,OAAQ,UACRC,YAAa,4BAIMC,EAAAA,EAAAA,IAAkBL,EAAOM,YAQ9CC,EAAAA,EAAAA,IAAiBP,EAAOM,SAAWE,IAAIC,EAAAA,EAAAA,IAAAA,EAAAA,EAAAA,GAAA,GACnCD,GAAI,IACPP,SAAUD,EAAOC,YAElB5B,EAAM,CACL8B,OAAQ,UACRC,YAAa,4CAEd7B,EAAS,WAdRF,EAAM,CACL8B,OAAQ,QACRC,YAAa,+CA4ByBf,SAAA,EACtCN,EAAAA,EAAAA,MAAC2B,EAAAA,GAAW,CAACC,YAAa/B,EAAO0B,SAAUV,GAAI,EAAEP,SAAA,EAChDC,EAAAA,EAAAA,KAACsB,EAAAA,GAAS,CAAAvB,SAAC,cACXC,EAAAA,EAAAA,KAACuB,EAAAA,IAAKJ,EAAAA,EAAAA,GAAA,CACLhB,MAAM,QACNqB,YAAY,YACRrC,EAAS,WAAY,CAAEsC,SAAU,4BAEtCzB,EAAAA,EAAAA,KAAC0B,EAAAA,GAAgB,CAAA3B,SAAiB,QAAjBnB,EAAEU,EAAO0B,gBAAQ,IAAApC,OAAA,EAAfA,EAAiB+C,cAErClC,EAAAA,EAAAA,MAAC2B,EAAAA,GAAW,CAACC,YAAa/B,EAAOqB,SAAUL,GAAI,EAAEP,SAAA,EAChDC,EAAAA,EAAAA,KAACsB,EAAAA,GAAS,CAAAvB,SAAC,kBACXC,EAAAA,EAAAA,KAACuB,EAAAA,IAAKJ,EAAAA,EAAAA,GAAA,CACLhB,MAAM,QACNyB,KAAM,WACNJ,YAAY,gBACRrC,EAAS,WAAY,CACxBsC,SAAU,uBACVI,UAAW,CAAEC,MAAO,EAAGH,QAAS,8BAGlC3B,EAAAA,EAAAA,KAAC0B,EAAAA,GAAgB,CAAA3B,SAAiB,QAAjBlB,EAAES,EAAOqB,gBAAQ,IAAA9B,OAAA,EAAfA,EAAiB8C,cAErClC,EAAAA,EAAAA,MAAC2B,EAAAA,GAAW,CAACC,YAAa/B,EAAOsB,gBAAiBN,GAAI,EAAEP,SAAA,EACvDC,EAAAA,EAAAA,KAACsB,EAAAA,GAAS,CAAAvB,SAAC,sBACXC,EAAAA,EAAAA,KAACuB,EAAAA,IAAKJ,EAAAA,EAAAA,GAAA,CACLhB,MAAM,QACNyB,KAAM,WACNJ,YAAY,oBACRrC,EAAS,kBAAmB,CAC/BsC,SAAU,oCAGZzB,EAAAA,EAAAA,KAAC0B,EAAAA,GAAgB,CAAA3B,SACO,QADPjB,EACfQ,EAAOsB,uBAAe,IAAA9B,OAAA,EAAtBA,EAAwB6C,cAG3B3B,EAAAA,EAAAA,KAAC+B,EAAAA,GAAM,CAACC,UAAWzC,EAAce,GAAI,EAAGsB,KAAK,SAASK,QAAS,SAASlC,SAAC,0B","sources":["Components/Authorization/ForgotPassword.tsx"],"sourcesContent":["import {\n\tButton,\n\tFlex,\n\tHeading,\n\tInput,\n\tText,\n\tuseToast,\n\tFormControl,\n\tFormLabel,\n\tFormErrorMessage,\n} from '@chakra-ui/react'\nimport React from 'react'\nimport { useForm, SubmitHandler } from 'react-hook-form'\nimport { getUserByUsername, updateStoredUser } from '../../Utils/localStorage'\nimport { useNavigate } from 'react-router-dom'\n\ninterface FormValues {\n\tusername: string\n\tpassword: string\n\tconfirmPassword: string\n}\n\nconst ForgotPassword: React.FC = () => {\n\tconst toast = useToast()\n\tconst navigate = useNavigate()\n\tconst {\n\t\tregister,\n\t\thandleSubmit,\n\t\tformState: { errors, isSubmitting },\n\t} = useForm<FormValues>()\n\n\tconst onSubmit: SubmitHandler<FormValues> = (values) => {\n\t\tif (values.password !== values.confirmPassword) {\n\t\t\ttoast({\n\t\t\t\tstatus: 'warning',\n\t\t\t\tdescription: 'Passwords do not match',\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tconst existingUser = getUserByUsername(values.username)\n\t\tif (!existingUser) {\n\t\t\ttoast({\n\t\t\t\tstatus: 'error',\n\t\t\t\tdescription: 'No local account found for that username',\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t\tupdateStoredUser(values.username, (user) => ({\n\t\t\t...user,\n\t\t\tpassword: values.password,\n\t\t}))\n\t\ttoast({\n\t\t\tstatus: 'success',\n\t\t\tdescription: 'Password updated. Please sign in again.',\n\t\t})\n\t\tnavigate('/login')\n\t}\n\n\treturn (\n\t\t<Flex p={2} flexDir={'column'} height={'70vh'} justifyContent={'center'}>\n\t\t\t<Heading>Reset your local password</Heading>\n\t\t\t<Text\n\t\t\t\tcolor=\"white\"\n\t\t\t\tm={2}\n\t\t\t\tsize={'md'}\n\t\t\t\tmt={4}\n\t\t\t\tw={'full'}\n\t\t\t\ttextAlign={'left'}\n\t\t\t>\n\t\t\t\tThis app runs fully offline, so resets happen on this device.\n\t\t\t</Text>\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t<FormControl isInvalid={!!errors.username} mt={4}>\n\t\t\t\t\t<FormLabel>Username</FormLabel>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\tplaceholder=\"username\"\n\t\t\t\t\t\t{...register('username', { required: 'Username is required' })}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormErrorMessage>{errors.username?.message}</FormErrorMessage>\n\t\t\t\t</FormControl>\n\t\t\t\t<FormControl isInvalid={!!errors.password} mt={4}>\n\t\t\t\t\t<FormLabel>New password</FormLabel>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\ttype={'password'}\n\t\t\t\t\t\tplaceholder=\"new password\"\n\t\t\t\t\t\t{...register('password', {\n\t\t\t\t\t\t\trequired: 'Password is required',\n\t\t\t\t\t\t\tminLength: { value: 4, message: 'Password is too short' },\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormErrorMessage>{errors.password?.message}</FormErrorMessage>\n\t\t\t\t</FormControl>\n\t\t\t\t<FormControl isInvalid={!!errors.confirmPassword} mt={4}>\n\t\t\t\t\t<FormLabel>Confirm password</FormLabel>\n\t\t\t\t\t<Input\n\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\ttype={'password'}\n\t\t\t\t\t\tplaceholder=\"confirm password\"\n\t\t\t\t\t\t{...register('confirmPassword', {\n\t\t\t\t\t\t\trequired: 'Please confirm your password',\n\t\t\t\t\t\t})}\n\t\t\t\t\t/>\n\t\t\t\t\t<FormErrorMessage>\n\t\t\t\t\t\t{errors.confirmPassword?.message}\n\t\t\t\t\t</FormErrorMessage>\n\t\t\t\t</FormControl>\n\t\t\t\t<Button isLoading={isSubmitting} mt={6} type=\"submit\" variant={'submit'}>\n\t\t\t\t\tUpdate password\n\t\t\t\t</Button>\n\t\t\t</form>\n\t\t</Flex>\n\t)\n}\n\nexport default ForgotPassword\n"],"names":["ForgotPassword","_errors$username","_errors$password","_errors$confirmPasswo","toast","useToast","navigate","useNavigate","register","handleSubmit","formState","errors","isSubmitting","useForm","_jsxs","Flex","p","flexDir","height","justifyContent","children","_jsx","Heading","Text","color","m","size","mt","w","textAlign","onSubmit","values","password","confirmPassword","status","description","getUserByUsername","username","updateStoredUser","user","_objectSpread","FormControl","isInvalid","FormLabel","Input","placeholder","required","FormErrorMessage","message","type","minLength","value","Button","isLoading","variant"],"ignoreList":[],"sourceRoot":""}