"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[981],{1981(s,e,r){r.r(e),r.d(e,{default:()=>p});var i=r(9379),o=r(2554),d=r(8510),n=r(7682),a=r(4450),t=r(7039),l=(r(5043),r(4858)),c=r(1806),u=r(835),m=r(579);const p=()=>{var s,e,r;const p=(0,t.dj)(),h=(0,u.Zp)(),{register:w,handleSubmit:f,formState:{errors:j,isSubmitting:x}}=(0,l.mN)();return(0,m.jsxs)(a.so,{p:2,flexDir:"column",height:"70vh",justifyContent:"center",children:[(0,m.jsx)(a.DZ,{children:"Reset your local password"}),(0,m.jsx)(a.EY,{color:"white",m:2,size:"md",mt:4,w:"full",textAlign:"left",children:"This app runs fully offline, so resets happen on this device."}),(0,m.jsxs)("form",{onSubmit:f(s=>{if(s.password!==s.confirmPassword)return void p({status:"warning",description:"Passwords do not match"});(0,c.JE)(s.username)?((0,c.SU)(s.username,e=>(0,i.A)((0,i.A)({},e),{},{password:s.password})),p({status:"success",description:"Password updated. Please sign in again."}),h("/login")):p({status:"error",description:"No local account found for that username"})}),children:[(0,m.jsxs)(d.MJ,{isInvalid:!!j.username,mt:4,children:[(0,m.jsx)(d.lR,{children:"Username"}),(0,m.jsx)(n.pd,(0,i.A)({color:"white",placeholder:"username"},w("username",{required:"Username is required"}))),(0,m.jsx)(d.Wt,{children:null===(s=j.username)||void 0===s?void 0:s.message})]}),(0,m.jsxs)(d.MJ,{isInvalid:!!j.password,mt:4,children:[(0,m.jsx)(d.lR,{children:"New password"}),(0,m.jsx)(n.pd,(0,i.A)({color:"white",type:"password",placeholder:"new password"},w("password",{required:"Password is required",minLength:{value:4,message:"Password is too short"}}))),(0,m.jsx)(d.Wt,{children:null===(e=j.password)||void 0===e?void 0:e.message})]}),(0,m.jsxs)(d.MJ,{isInvalid:!!j.confirmPassword,mt:4,children:[(0,m.jsx)(d.lR,{children:"Confirm password"}),(0,m.jsx)(n.pd,(0,i.A)({color:"white",type:"password",placeholder:"confirm password"},w("confirmPassword",{required:"Please confirm your password"}))),(0,m.jsx)(d.Wt,{children:null===(r=j.confirmPassword)||void 0===r?void 0:r.message})]}),(0,m.jsx)(o.$n,{isLoading:x,mt:6,type:"submit",variant:"submit",children:"Update password"})]})]})}}}]);
//# sourceMappingURL=981.c3e05943.chunk.js.map