"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[130],{2645(e,t,o){o.d(t,{A:()=>f,v:()=>m});var n=o(2554),r=o(4450),i=o(4162),s=o(9292),l=o(858),a=o(4034),c=o(5043),d=o(3399),h=o(7748),u=o(579);const m=e=>e<25?"green.400":e<50?"yellow.600":e<75?"orange.400":"red.800",g=e=>{let{deleteHandler:t,mood:o,moodRating:n,sliderChange:a}=e;const{currentQuestion:g}=(0,h.A)(),[f,b]=(0,c.useState)(!1),{foregroundColor:j}=(0,d.A)();return(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(l.zW,{in:!f,transition:{enter:{duration:.5},exit:{duration:.5}},style:{flexDirection:"column",alignItems:"center",display:"flex",height:"auto",width:"100%"},children:(0,u.jsx)(r.az,{w:{base:"full",lg:"80%"},my:3,alignSelf:"center",children:(0,u.jsxs)(r.zt,{rounded:"2xl",mx:3,bg:j,pl:2,minH:20,pr:1,justifyContent:"center",children:[(0,u.jsxs)(r.Tk,{ml:2,spacing:2,p:1,w:"100%",children:[(0,u.jsx)(r.EY,{w:"100%",textAlign:"left",children:o}),(0,u.jsxs)(i.Ap,{colorScheme:m(n).slice(0,-4),ml:2,mr:1,mb:2,onChange:e=>a(e),value:n,children:[(0,u.jsx)(i.hB,{children:(0,u.jsx)(i.hJ,{})}),(0,u.jsx)(s.m,{hasArrow:!0,zIndex:-9999,fontSize:"sm",bg:m(n),color:"white",placement:"right",isOpen:!f,label:"".concat(n,"%"),children:(0,u.jsx)(i.OQ,{bg:"teal.400"})})]})]}),"reratemoods"!==g?(0,u.jsx)(x,{deleteHandler:()=>(e=>{b(!0),setTimeout(e,500)})(t)}):null]})})})})},x=e=>{let{deleteHandler:t}=e;return(0,u.jsx)(n.K0,{color:"black","aria-label":"Delete Mood",variant:"ghost",size:"sm",icon:(0,u.jsx)(a.US,{}),onClick:t})},f=e=>{let{moods:t,setMoods:o}=e;return(0,u.jsx)(r.ov,{flexDirection:"column",w:"100%",mt:0,mb:0,children:t.map(e=>{let{mood:n,moodRating:r}=e;return(0,u.jsx)(g,{mood:n,deleteHandler:()=>{return e=n,void o(t.filter(t=>t.mood!==e));var e},sliderChange:(i=n,e=>{o(t=>t.map(t=>t.mood===i?{mood:t.mood,moodRating:e}:t))}),moodRating:r},n);var i})})}},3130(e,t,o){o.d(t,{A:()=>j});var n=o(1206),r=o(4450),i=o(3002),s=o(858),l=o(8426),a=o(5219),c=o(3399),d=o(2645),h=o(3618),u=o(2285),m=o(7419),g=o(3824),x=o(4094),f=o(579);const b=e=>{let{moods:t,label:o}=e;const{foregroundColor:s,textColor:l}=(0,c.A)();return(0,f.jsxs)(r.so,{flexDirection:"column",m:2,alignItems:"flexStart",justifyContent:"left",w:{base:"100%",lg:"75vw"},children:[(0,f.jsx)(r.DZ,{m:2,ml:4,textAlign:"center",children:o}),(0,f.jsx)(r.B8,{m:2,w:{base:"85%",lg:"45%"},alignItems:"center",alignSelf:"center",bg:s,p:2,pb:4,children:t.map(e=>{let{mood:t,moodRating:o}=e;return(0,f.jsxs)(r.ck,{p:2,width:"full",children:[(0,f.jsx)(r.kp,{boxSize:8,color:(0,d.v)(o),as:u.Wml}),(0,f.jsx)(r.EY,{m:2,color:l,position:"relative",bottom:2,textAlign:"center",display:"inline-flex",children:t}),(0,f.jsx)(n.K2,{children:(0,f.jsx)(i.ke,{size:"sm",colorScheme:(0,d.v)(o).slice(0,-4),value:o})})]},t)})})]})},j=e=>{let{thoughtRecord:t}=e;const{backgroundColor:o}=(0,c.A)();if(!t)return(0,f.jsx)(l.A,{});const n={argFor:t.evidencefor?t.evidencefor:"",argAgainst:t.evidenceagainst?t.evidenceagainst:""};return(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(s.Jt,{in:!0,delay:{enter:.3},children:(0,f.jsxs)(r.Tk,{m:0,bg:o,overflow:{base:"auto",lg:"visible"},spacing:10,width:{base:"100%",lg:"100%"},children:[t.emotion&&(0,f.jsx)(a.A,{label:"Emotion",emotionName:t.emotion}),t.situationquestion&&(0,f.jsx)(h.nD,{allowToggle:!0,w:"100%",children:(0,f.jsx)(m.A,{label:"The Situation",popoverText:t.situationquestion})}),t.mood&&(0,f.jsx)(b,{moods:t.mood,label:"Moods"}),t.thoughts&&(0,f.jsx)(b,{moods:t.thoughts.thoughts,label:"Thoughts"}),t.thoughts&&(0,f.jsx)(g.A,{hotThought:t.thoughts.hotThought}),(0,f.jsx)(x.A,{argumentsText:n}),t.alternativethought&&(0,f.jsx)(b,{moods:t.alternativethought,label:"Alternative thoughts"}),t.rerateemotion&&(0,f.jsx)(a.A,{label:"After Emotion",emotionName:t.rerateemotion})]})})})}},3824(e,t,o){o.d(t,{A:()=>i});var n=o(4450),r=o(579);const i=e=>{let{hotThought:t}=e;return(0,r.jsxs)(n.Tk,{w:"full",spacing:-1,children:[(0,r.jsx)(n.Ex,{alignSelf:"end",my:2,mr:6,colorScheme:"red",variant:"solid",children:"Hot Thought"}),(0,r.jsx)(n.ov,{color:"white",bg:"red.500",p:2,alignSelf:"center",w:{base:"90%",lg:"93%"},textAlign:"center",minH:{base:"80px",lg:"20vh"},rounded:"2xl",children:t})]})}},4094(e,t,o){o.d(t,{A:()=>s});var n=o(3618),r=o(7419),i=o(579);const s=e=>{let{argumentsText:t}=e;const{argFor:o,argAgainst:s}=t;return(0,i.jsxs)(n.nD,{allowMultiple:!0,alignSelf:"center",w:"100%",allowToggle:!0,children:[(0,i.jsx)(r.A,{label:"Arguments For",popoverText:o}),(0,i.jsx)(r.A,{label:"Arguments Against",popoverText:s})]})}},4746(e,t,o){o.d(t,{A:()=>c});var n=o(9379),r=o(5043),i=o(7152),s=o(6451),l=o(1806);const a=e=>({key:"".concat(Date.now(),"-").concat(Math.random().toString(16).slice(2)),userKey:e,timeCreated:Date.now()}),c=()=>{const{currentUser:e,logout:t,updateUser:o}=(0,i.A)(),[c,d]=(0,r.useState)(!1),h=()=>{if(!e)throw t(),Error("Not signed in");return e},u=e=>(0,l.wF)().filter(t=>t.userKey===e),m=(e,t)=>{const o=(0,l.wF)().filter(t=>t.userKey!==e);(0,l.FW)([...o,...t])},g=e=>{o(e)},x=async e=>{if(c)throw Error("Already submitting");d(!0);const t=e();return d(!1),t};return{deleteThoughtRecord:async e=>x(()=>{const t=h(),o=u(t.username).filter(t=>t.key!==e);m(t.username,o);const r=(0,n.A)((0,n.A)({},t),{},{thoughtRecords:t.thoughtRecords.filter(t=>t!==e),activeThoughtRecord:t.activeThoughtRecord===e?null:t.activeThoughtRecord});return g(r),e}),getAllThoughtRecords:async()=>x(()=>{const e=h();return u(e.username)}),updateThoughtRecord:async(e,t,o)=>x(()=>{const r=h(),i=u(r.username),s=i.findIndex(e=>e.key===t);if(s<0)throw Error("Record not found");const l=(0,n.A)((0,n.A)({},i[s]),{},{[o]:e}),a=[...i];return a[s]=l,m(r.username,a),l}),getActiveThoughtRecord:async()=>x(()=>{const e=h(),t=u(e.username),o=e.activeThoughtRecord?t.find(t=>t.key===e.activeThoughtRecord):void 0;if(o&&(0,s.f4)(o))return o;const r=a(e.username);return m(e.username,[...t,r]),g((0,n.A)((0,n.A)({},e),{},{activeThoughtRecord:r.key,thoughtRecords:Array.from(new Set([...e.thoughtRecords||[],r.key]))})),r}),getNewThoughtRecord:async()=>x(()=>{const e=h(),t=u(e.username),o=a(e.username);return m(e.username,[...t,o]),g((0,n.A)((0,n.A)({},e),{},{activeThoughtRecord:o.key,thoughtRecords:Array.from(new Set([...e.thoughtRecords||[],o.key]))})),o}),isSubmitting:c,saveThoughtRecord:async()=>x(()=>{const e=h(),t=(0,n.A)((0,n.A)({},e),{},{activeThoughtRecord:null});return g(t),t}),editThoughtRecord:async e=>x(()=>{const t=h(),o=u(t.username).find(t=>t.key===e);if(!o)throw Error("Invalid return");return g((0,n.A)((0,n.A)({},t),{},{activeThoughtRecord:o.key})),o})}}},5219(e,t,o){o.d(t,{A:()=>l});var n=o(4450),r=o(2127),i=o(7532),s=o(579);const l=e=>{let{emotionName:t,label:o,size:l}=e;l||(l="5x");const a=i.emotions.filter(e=>t===e.emotionName)[0],{icon:c,emotionColor:d}=a;return(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)(n.Tk,{spacing:4,children:[o&&(0,s.jsxs)(n.DZ,{textAlign:"center",children:[" ",o," "]}),(0,s.jsx)(r.g,{size:l,icon:c,color:d}),o&&(0,s.jsxs)(n.DZ,{color:d,children:[" ",t," "]})]})})}},6451(e,t,o){o.d(t,{J6:()=>r,L0:()=>s,b1:()=>i,f4:()=>l,fK:()=>n});const n=(e,t)=>e in t,r=e=>i.includes(e),i=["/emotion","/situationquestion","/mood","/thoughts","/evidencefor","/evidenceagainst","/alternativethought","/rerateemotion","/submit"],s={"/emotion":{label:"How do you feel?",type:"Emotion"},"/situationquestion":{label:"What is the Situation?",type:"Text"},"/mood":{label:"Add any emotions you felt and rate them",type:"Mood"},"/thoughts":{label:"List any thoughts and rate your Belief",type:"Thoughts"},"/evidencefor":{label:"What is the Evidence for",type:"Text"},"/evidenceagainst":{label:"What is the Evidence Against",type:"Text"},"/alternativethought":{label:"",type:"Text"},"/rerateemotion":{label:"How do you feel?",type:"Emotion"},"/submit":{label:"something",type:"Submit"}},l=e=>!!e&&"timeCreated"in e},7419(e,t,o){o.d(t,{A:()=>s});var n=o(3618),r=o(4450),i=o(579);const s=e=>{let{label:t,popoverText:o}=e;return(0,i.jsxs)(n.As,{alignSelf:"center",my:2,ml:{base:5,lg:0},w:{base:"90%",lg:"100%"},children:[(0,i.jsx)(r.DZ,{children:(0,i.jsxs)(n.J2,{children:[(0,i.jsx)(r.az,{flex:"1",textAlign:"left",children:t}),(0,i.jsx)(n.QJ,{})]})}),(0,i.jsx)(n.vr,{color:"white",p:4,children:o})]})}},7532(e,t,o){o.r(t),o.d(t,{default:()=>b,emotions:()=>f});var n=o(858),r=o(4450),i=o(2554),s=o(5043),l=o(1206),a=o(572),c=o(2127),d=o(579);const h=e=>{let{emotionName:t,setSelected:o,selected:n}=e;const r=f.filter(e=>t===e.emotionName)[0],{emotionColor:i,icon:s}=r,h=(0,l.dU)("black","white"),u=(0,a.AD)({base:"3x",md:"5x",lg:"9x"}),m=(e=>n&&e!==n?h:i)(t);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(c.g,{size:u,onClick:()=>(e=>{o(e===n?"":e)})(t),"aria-label":"".concat(t," button"),color:m,icon:s})})};var u=o(8426),m=o(7748),g=o(2639),x=o(6451);const f=[{icon:g.lbD,emotionColor:"#322659",emotionName:"Awful"},{icon:g.Lz9,emotionColor:"#2C5282",emotionName:"Meh"},{icon:g.H82,emotionColor:"#68D391",emotionName:"Good"},{icon:g.pj,emotionColor:"#F6E05E",emotionName:"Awesome"}],b=()=>{const[e,t]=(0,s.useState)(""),o=(e=>{var t;return null===(t=f.filter(t=>t.emotionName===e)[0])||void 0===t?void 0:t.emotionColor})(e),{label:l,isSubmitting:a,onSubmit:c,currentQuestion:g,thoughtRecord:b}=(0,m.A)();return(0,s.useEffect)(()=>{if(b&&(0,x.fK)(g,b)){const e=b[g];"string"===typeof e&&t(e)}},[g,b]),b?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(n.Jt,{in:!0,delay:{enter:.3},children:(0,d.jsx)(r.so,{p:2,minH:"80vh",children:(0,d.jsxs)(r.ov,{mt:4,rounded:"75px",border:e?"15px solid":"none",borderColor:o,mx:-20,w:{base:"auto",sm:"90vw",md:"100vw"},p:2,minHeight:"70vh",flexDir:"column",children:[(0,d.jsx)(r.DZ,{children:l}),(0,d.jsx)(r.zt,{height:"50%",mx:1,p:2,w:{base:"auto",lg:"80%"},spacing:{base:"9",md:"auto"},children:f.map(o=>{let{emotionName:n}=o;return(0,d.jsx)(h,{emotionName:n,selected:e,setSelected:t},n)})}),(0,d.jsx)(r.Tk,{p:2,w:"full",height:"10vh",spacing:6,children:e?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(r.DZ,{color:o,children:[" ",e," "]}),(0,d.jsx)(i.$n,{m:2,variant:"submit",isLoading:a,onClick:()=>c(e),w:"60%",minH:"40px",children:"Submit"})]}):null})]})})})}):(0,d.jsx)(u.A,{})}},7748(e,t,o){o.d(t,{A:()=>c});var n=o(9379),r=o(7039),i=o(5043),s=o(835),l=o(6451),a=o(4746);const c=()=>{const e=(0,r.dj)(),t=(0,s.Zp)(),{pathname:o,state:c}=(0,s.zy)(),[d,h]=(0,i.useState)(),[u,m]=(0,i.useState)(null),{updateThoughtRecord:g,getActiveThoughtRecord:x,isSubmitting:f,saveThoughtRecord:b}=(0,a.A)();(0,i.useEffect)(()=>{if(!u&&(0,l.J6)(o)&&d){const e=((e,t)=>{for(let o of l.b1){let n=o.slice(1);if(o===e)return o;if((0,l.fK)(n,t)&&null===t[n])return o}return e})(o,d);e!==o?t(e):m(!0)}},[u,t,o,d]),(0,i.useEffect)(()=>{d||(async()=>{d||((0,l.f4)(c)?h(c):h(await x()))})()},[]);let j="",v="";return(0,l.J6)(o)&&(j=l.L0[o].label,v=o.slice(1)),{label:j,onSubmit:async r=>{if((0,l.J6)(o))if("/submit"===o)try{await b(),t("/thoughtrecords")}catch(i){i instanceof Error&&e({status:"error",description:"problem submitting"})}else{const i=o.slice(1),a=(0,l.f4)(d)?d.key:"",c=l.b1.indexOf(o)+1;try{const e=await g(r,a,i);t(l.b1[c],{state:(0,n.A)({},e)})}catch(s){e({status:"error",description:"problem with update"})}}},isSubmitting:f,currentQuestion:v,thoughtRecord:d,isValidQuestion:u}}}}]);
//# sourceMappingURL=130.f520c724.chunk.js.map