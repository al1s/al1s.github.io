"use strict";(self.webpackChunkcb_tree=self.webpackChunkcb_tree||[]).push([[796],{7796(e,t,s){s.r(t),s.d(t,{default:()=>T});var n=s(9754),o=s(7039),r=s(1778),i=s(4450),c=s(5043),l=s(5219),d=s(9379),h=s(572),a=s(174),x=s(2554),u=s(1668),g=s(3130),j=s(3399),m=s(4746),p=s(835),w=s(579);const b=e=>{let{onClose:t,isOpen:s,onOpen:n,thoughtRecord:o,setThoughtRecords:r}=e;const{deleteThoughtRecord:c,getAllThoughtRecords:l,editThoughtRecord:b,isSubmitting:A}=(0,m.A)(),T=(0,p.Zp)(),k=(0,h.AD)({base:"xs",lg:"xl"}),{backgroundColor:y}=(0,j.A)();return o?(0,w.jsx)(w.Fragment,{children:(0,w.jsxs)(a.aF,{size:k,isOpen:s,onClose:t,children:[(0,w.jsx)(a.mH,{backdropFilter:"blur(5px)"}),(0,w.jsxs)(a.$m,{bg:y,p:4,children:[(0,w.jsxs)(i.zt,{m:2,spacing:"auto",children:[(0,w.jsx)(x.$n,{onClick:()=>(async e=>{const t=await b(e);T("/emotion",{state:(0,d.A)({},t)})})(o.key),isLoading:A,w:{base:"40%",lg:"30%"},minH:"full",children:"Edit"}),(0,w.jsxs)(u.AM,{placement:"bottom",children:[(0,w.jsx)(u.Wv,{children:(0,w.jsx)(x.$n,{isLoading:A,w:{base:"40%",lg:"30%"},children:"Delete"})}),(0,w.jsxs)(u.hl,{m:2,w:"65%",alignItems:"center",p:2,textAlign:"center",children:["Are you sure you want to delete this record? It can't be undone",(0,w.jsx)(x.$n,{isLoading:A,onClick:()=>(async e=>{await c(e);const s=await l();r(s),t()})(null===o||void 0===o?void 0:o.key),w:"70%",m:2,children:"Yes"}),(0,w.jsx)(x.$n,{isLoading:A,w:"70%",m:2,children:"No"})]})]})]}),o&&(0,w.jsx)(g.A,{thoughtRecord:o})]})]})}):(0,w.jsx)(w.Fragment,{})};var A=s(8426);const T=()=>{const[e,t]=(0,c.useState)(),{isOpen:s,onOpen:d,onClose:h}=(0,n.j1)(),a=(0,o.dj)(),{getAllThoughtRecords:x,isSubmitting:u}=(0,m.A)(),[g,j]=(0,c.useState)();(0,c.useEffect)(()=>{u||g||(async()=>{try{const e=await x();j(e)}catch(e){a({status:"error",description:"something went wrong getting thoughtrecords"})}})()},[x,u,g,a]);return g?(0,w.jsxs)(w.Fragment,{children:[(0,w.jsx)(b,{setThoughtRecords:j,isOpen:s,onOpen:d,onClose:h,thoughtRecord:e}),(0,w.jsx)(r.K3,{overflowY:"auto",w:"93%",children:(0,w.jsxs)(r.XI,{size:"sm",variant:"striped",children:[(0,w.jsx)(r.r6,{children:" Your Thought Records "}),(0,w.jsx)(r.d8,{children:(0,w.jsxs)(r.Tr,{children:[(0,w.jsx)(r.Th,{children:"Recorded"}),(0,w.jsx)(r.Th,{children:" Felt Before "}),(0,w.jsx)(r.Th,{children:" Felt After "})]})}),(0,w.jsx)(r.NN,{children:g.map(e=>{return(0,w.jsxs)(r.Tr,{onClick:()=>(e=>{if(g){const s=g.filter(t=>t.key===e)[0];t(s),d()}})(e.key),children:[(0,w.jsx)(r.Td,{children:(0,w.jsx)(i.EY,{children:(s=e.timeCreated,new Date(s).toLocaleDateString())})}),(0,w.jsx)(r.Td,{py:4,children:e.emotion&&(0,w.jsx)(l.A,{size:"3x",emotionName:e.emotion})}),(0,w.jsx)(r.Td,{py:2,children:e.rerateemotion&&(0,w.jsx)(l.A,{size:"3x",emotionName:e.rerateemotion})})]},e.key);var s})})]})})]}):(0,w.jsx)(A.A,{})}}}]);
//# sourceMappingURL=796.2a38cbf9.chunk.js.map