{"version":3,"file":"static/js/203.b0f8b590.chunk.js","mappings":"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","sources":["Components/ThoughtRecordQuestions/SelectQuestion.tsx","Components/ThoughtRecordQuestions/MoodSlider.tsx","Components/ThoughtRecordQuestions/HotThoughtSelect.tsx","Components/ThoughtRecordQuestions/ThoughtQuestion.tsx","Hooks/useThoughtRecordApi.tsx","types.ts","Hooks/UseThoughtRecord.tsx"],"sourcesContent":["import { CreatableSelect, ActionMeta } from 'chakra-react-select'\nimport { Dispatch, SetStateAction } from 'react'\nimport { Button, Box, FormLabel, Heading, SlideFade } from '@chakra-ui/react'\nimport { useState } from 'react'\nimport { Mood } from '../../types'\nimport MoodList from './MoodSlider'\nimport useThoughtRecord from '../../Hooks/UseThoughtRecord'\n\ntype Option = {\n\tvalue: string\n\tlabel: string\n}\ninterface SelectOption {\n\tlabel: string\n\tvalue: string\n}\ninterface RecordProps {\n\tmoods: Mood[]\n\tsetMoods: Dispatch<SetStateAction<Mood[]>>\n\tselectOptions: SelectOption[]\n\tlabel: string\n\tisSubmitting: boolean\n}\n\nconst SelectQuestion: React.FC<RecordProps> = ({\n\tisSubmitting,\n\tmoods,\n\tsetMoods,\n\tselectOptions,\n\tlabel,\n}: RecordProps) => {\n\tconst { currentQuestion } = useThoughtRecord()\n\tconst [selectedMood, setSelectedMood] = useState<string>('')\n\n\tconst addMood = (mood: string) => {\n\t\tif (!moods.map((mood) => mood.mood).includes(mood) && mood) {\n\t\t\tsetMoods([...moods, { mood: mood, moodRating: 0 }])\n\t\t}\n\t}\n\tconst handleChange = (\n\t\toption: Option | null,\n\t\tactionMeta: ActionMeta<Option>,\n\t) => {\n\t\tif (option) {\n\t\t\tsetSelectedMood(option.value)\n\t\t}\n\t}\n\treturn (\n\t\t<>\n\t\t\t{currentQuestion !== 'reratemoods' ? (\n\t\t\t\t<SlideFade\n\t\t\t\t\toffsetY={0}\n\t\t\t\t\toffsetX={50}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\tenter: { delay: 0.2, duration: 0.5 },\n\t\t\t\t\t\texit: { delay: 0.4, duration: 0.5 },\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\theight: 'auto',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tin={!isSubmitting}\n\t\t\t\t>\n\t\t\t\t\t<Box p={2} w={'92%'} mt={6} mb={2} mx={7}>\n\t\t\t\t\t\t<FormLabel mb={2} color={'white'} fontSize={14}>\n\t\t\t\t\t\t\t{label}\n\t\t\t\t\t\t</FormLabel>\n\t\t\t\t\t\t<CreatableSelect\n\t\t\t\t\t\t\tsize=\"md\"\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\toptions={selectOptions}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Box>\n\t\t\t\t\t<Button\n\t\t\t\t\t\talignSelf={'center'}\n\t\t\t\t\t\tonClick={() => addMood(selectedMood)}\n\t\t\t\t\t\tw={'60%'}\n\t\t\t\t\t\tminH={10}\n\t\t\t\t\t\tmy={6}\n\t\t\t\t\t>\n\t\t\t\t\t\tAdd\n\t\t\t\t\t</Button>\n\t\t\t\t</SlideFade>\n\t\t\t) : (\n\t\t\t\t<Heading> {label} </Heading>\n\t\t\t)}\n\n\t\t\t<MoodList moods={moods} setMoods={setMoods} />\n\t\t</>\n\t)\n}\n\nexport default SelectQuestion\n","import {\n\tTooltip,\n\tBox,\n\tSlider,\n\tText,\n\tIconButton,\n\tHStack,\n\tSliderFilledTrack,\n\tSliderThumb,\n\tSliderTrack,\n\tVStack,\n\tCenter,\n\tFade,\n} from '@chakra-ui/react'\nimport { CloseIcon } from '@chakra-ui/icons'\nimport { Mood } from '../../types'\nimport { SetStateAction, useState } from 'react'\nimport React from 'react'\nimport UseThemeColors from '../../Hooks/useThemeColors'\nimport UseThoughtRecord from '../../Hooks/UseThoughtRecord'\ninterface ButtonProps {\n\tdeleteHandler: React.MouseEventHandler<HTMLButtonElement>\n}\ninterface MoodEntryProps {\n\tmood: string\n\tmoodRating: number\n\tsliderChange: (value: number) => void\n\tdeleteHandler: () => void\n}\n\nexport const sliderColor = (value: number): string => {\n\tif (value < 25) {\n\t\treturn 'green.400'\n\t}\n\tif (value < 50) {\n\t\treturn 'yellow.600'\n\t}\n\tif (value < 75) {\n\t\treturn 'orange.400'\n\t}\n\treturn 'red.800'\n}\ninterface SliderProps {\n\tmoods: Mood[]\n\tsetMoods: (value: SetStateAction<Mood[]>) => void\n}\nconst MoodSlider: React.FC<SliderProps> = ({ moods, setMoods }) => {\n\tconst deleteHandler = (moodName: string) => {\n\t\tsetMoods(moods.filter((mood) => mood.mood !== moodName))\n\t}\n\tconst sliderChange = (moodName: string) => (value: number) => {\n\t\tsetMoods((moods) =>\n\t\t\tmoods.map((mood) => {\n\t\t\t\tif (mood.mood === moodName) {\n\t\t\t\t\treturn { mood: mood.mood, moodRating: value }\n\t\t\t\t} else {\n\t\t\t\t\treturn mood\n\t\t\t\t}\n\t\t\t}),\n\t\t)\n\t}\n\treturn (\n\t\t<Center flexDirection={'column'} w={'100%'} mt={0} mb={0}>\n\t\t\t{moods.map(({ mood, moodRating }) => (\n\t\t\t\t<MoodEntry\n\t\t\t\t\tmood={mood}\n\t\t\t\t\tkey={mood}\n\t\t\t\t\tdeleteHandler={() => deleteHandler(mood)}\n\t\t\t\t\tsliderChange={sliderChange(mood)}\n\t\t\t\t\tmoodRating={moodRating}\n\t\t\t\t/>\n\t\t\t))}\n\t\t</Center>\n\t)\n}\nconst MoodEntry: React.FC<MoodEntryProps> = ({\n\tdeleteHandler,\n\tmood,\n\tmoodRating,\n\tsliderChange,\n}: MoodEntryProps) => {\n\tconst { currentQuestion } = UseThoughtRecord()\n\tconst [isDeleting, setIsDeleting] = useState(false)\n\tconst animateThenDelete = (deleteHandler: () => void) => {\n\t\tsetIsDeleting(true)\n\t\tsetTimeout(deleteHandler, 500)\n\t}\n\tconst { foregroundColor } = UseThemeColors()\n\treturn (\n\t\t<>\n\t\t\t<Fade\n\t\t\t\tin={!isDeleting}\n\t\t\t\ttransition={{ enter: { duration: 0.5 }, exit: { duration: 0.5 } }}\n\t\t\t\tstyle={{\n\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\talignItems: 'center',\n\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\theight: 'auto',\n\t\t\t\t\twidth: '100%',\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<Box w={{ base: 'full', lg: '80%' }} my={3} alignSelf={'center'}>\n\t\t\t\t\t<HStack\n\t\t\t\t\t\trounded={'2xl'}\n\t\t\t\t\t\tmx={3}\n\t\t\t\t\t\tbg={foregroundColor}\n\t\t\t\t\t\tpl={2}\n\t\t\t\t\t\tminH={20}\n\t\t\t\t\t\tpr={1}\n\t\t\t\t\t\tjustifyContent={'center'}\n\t\t\t\t\t>\n\t\t\t\t\t\t<VStack ml={2} spacing={2} p={1} w={'100%'}>\n\t\t\t\t\t\t\t<Text w={'100%'} textAlign={'left'}>\n\t\t\t\t\t\t\t\t{mood}\n\t\t\t\t\t\t\t</Text>\n\t\t\t\t\t\t\t<Slider\n\t\t\t\t\t\t\t\tcolorScheme={sliderColor(moodRating).slice(0, -4)}\n\t\t\t\t\t\t\t\tml={2}\n\t\t\t\t\t\t\t\tmr={1}\n\t\t\t\t\t\t\t\tmb={2}\n\t\t\t\t\t\t\t\tonChange={(value) => sliderChange(value)}\n\t\t\t\t\t\t\t\tvalue={moodRating}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t<SliderTrack>\n\t\t\t\t\t\t\t\t\t<SliderFilledTrack />\n\t\t\t\t\t\t\t\t</SliderTrack>\n\t\t\t\t\t\t\t\t<Tooltip\n\t\t\t\t\t\t\t\t\thasArrow\n\t\t\t\t\t\t\t\t\tzIndex={-9999}\n\t\t\t\t\t\t\t\t\tfontSize={'sm'}\n\t\t\t\t\t\t\t\t\tbg={sliderColor(moodRating)}\n\t\t\t\t\t\t\t\t\tcolor=\"white\"\n\t\t\t\t\t\t\t\t\tplacement=\"right\"\n\t\t\t\t\t\t\t\t\tisOpen={!isDeleting}\n\t\t\t\t\t\t\t\t\tlabel={`${moodRating}%`}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<SliderThumb bg=\"teal.400\" />\n\t\t\t\t\t\t\t\t</Tooltip>\n\t\t\t\t\t\t\t</Slider>\n\t\t\t\t\t\t</VStack>\n\t\t\t\t\t\t{currentQuestion !== 'reratemoods' ? (\n\t\t\t\t\t\t\t<DeleteButton\n\t\t\t\t\t\t\t\tdeleteHandler={() => animateThenDelete(deleteHandler)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : null}\n\t\t\t\t\t</HStack>\n\t\t\t\t</Box>\n\t\t\t</Fade>\n\t\t</>\n\t)\n}\nconst DeleteButton: React.FC<ButtonProps> = ({ deleteHandler }) => {\n\treturn (\n\t\t<IconButton\n\t\t\tcolor={'black'}\n\t\t\taria-label=\"Delete Mood\"\n\t\t\tvariant=\"ghost\"\n\t\t\tsize={'sm'}\n\t\t\ticon={<CloseIcon />}\n\t\t\tonClick={deleteHandler}\n\t\t/>\n\t)\n}\n\nexport default MoodSlider\n","import { Center, Heading } from '@chakra-ui/react'\nimport UseThemeColors from '../../Hooks/useThemeColors'\n\ninterface HotThoughtProps {\n\tthoughts: string[]\n\tonSelect: (value: string) => void\n\tselected: string\n}\n\nconst HotThoughtSelect: React.FC<HotThoughtProps> = ({\n\tthoughts,\n\tonSelect,\n\tselected,\n}) => {\n\tconst { foregroundColor } = UseThemeColors()\n\treturn (\n\t\t<>\n\t\t\t<Heading mt={4} mx={4} textAlign={'center'}>\n\t\t\t\tChoose the Hot Thought\n\t\t\t</Heading>\n\t\t\t<Center\n\t\t\t\tp={4}\n\t\t\t\tflexDirection={'column'}\n\t\t\t\tmx={2}\n\t\t\t\tw={'100%'}\n\t\t\t\tminHeight={'50vh'}\n\t\t\t\tjustifyContent={'space-evenly'}\n\t\t\t>\n\t\t\t\t{thoughts.map((thought) => {\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Center\n\t\t\t\t\t\t\tkey={thought}\n\t\t\t\t\t\t\tp={2}\n\t\t\t\t\t\t\trounded={'2xl'}\n\t\t\t\t\t\t\tfontSize={14}\n\t\t\t\t\t\t\tcolor={selected === thought ? 'white' : 'inital'}\n\t\t\t\t\t\t\tminH={'10vh'}\n\t\t\t\t\t\t\twidth={'90%'}\n\t\t\t\t\t\t\tbg={selected === thought ? 'red.500' : foregroundColor}\n\t\t\t\t\t\t\tonClick={() => onSelect(thought)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{thought}\n\t\t\t\t\t\t</Center>\n\t\t\t\t\t)\n\t\t\t\t})}\n\t\t\t</Center>\n\t\t</>\n\t)\n}\n\nexport default HotThoughtSelect\n","import { useEffect, useState } from 'react'\nimport partialThoughtData from '../../Data/thoughts.json'\nimport SelectQuestion from './SelectQuestion'\nimport { Mood } from '../../types'\nimport { Button, SlideFade } from '@chakra-ui/react'\nimport HotThoughtSelect from './HotThoughtSelect'\nimport UseThoughtRecord from '../../Hooks/UseThoughtRecord'\nimport UseThemeColors from '../../Hooks/useThemeColors'\nimport LoadingTextField from '../Loading/LoadingTextField'\n\nconst ThoughtQuestion = () => {\n\tconst thoughtData = partialThoughtData.map((thought) => ({\n\t\t...thought,\n\t\tvalue: thought.label,\n\t}))\n\tconst [thoughts, setThoughts] = useState<Mood[]>([])\n\tconst [selected, SetSelected] = useState<string>('')\n\tconst { label, onSubmit, isSubmitting, thoughtRecord } = UseThoughtRecord()\n\tconst [doneThoughts, setDoneThoughts] = useState<Boolean>(false)\n\tconst { foregroundColor } = UseThemeColors()\n\tconst onSelect = (value: string) => {\n\t\tSetSelected(value)\n\t}\n\tuseEffect(() => {\n\t\tif (thoughtRecord?.thoughts) {\n\t\t\tsetThoughts(thoughtRecord.thoughts.thoughts)\n\t\t}\n\t}, [thoughtRecord, setThoughts])\n\tconst handleMoodSubmit = () => {\n\t\tif (!doneThoughts) {\n\t\t\tsetDoneThoughts(true)\n\t\t} else {\n\t\t\tif (selected) {\n\t\t\t\tonSubmit({ thoughts: thoughts, hotThought: selected })\n\t\t\t}\n\t\t}\n\t}\n\tconst thoughtIDs = thoughts.map((thought) => thought.mood)\n\tif (!thoughtRecord) {\n\t\treturn <LoadingTextField />\n\t}\n\treturn (\n\t\t<>\n\t\t\t{!doneThoughts ? (\n\t\t\t\t<SelectQuestion\n\t\t\t\t\tmoods={thoughts}\n\t\t\t\t\tisSubmitting={isSubmitting}\n\t\t\t\t\tsetMoods={setThoughts}\n\t\t\t\t\tselectOptions={thoughtData}\n\t\t\t\t\tlabel={label}\n\t\t\t\t/>\n\t\t\t) : (\n\t\t\t\t<SlideFade\n\t\t\t\t\tin={!isSubmitting}\n\t\t\t\t\toffsetY={-100}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\tenter: { delay: 0.3, duration: 0.5 },\n\t\t\t\t\t\texit: { delay: 0.5, duration: 0.5 },\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tminHeight: '50%',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t<HotThoughtSelect\n\t\t\t\t\t\tthoughts={thoughtIDs}\n\t\t\t\t\t\tonSelect={onSelect}\n\t\t\t\t\t\tselected={selected}\n\t\t\t\t\t/>\n\t\t\t\t</SlideFade>\n\t\t\t)}\n\t\t\t{thoughts.length > 0 ? (\n\t\t\t\t<SlideFade\n\t\t\t\t\toffsetY={50}\n\t\t\t\t\ttransition={{\n\t\t\t\t\t\tenter: { delay: 0.4, duration: 0.5 },\n\t\t\t\t\t\texit: { delay: 0.3, duration: 0.5 },\n\t\t\t\t\t}}\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tflexDirection: 'column',\n\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\tminHeight: 'auto',\n\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t}}\n\t\t\t\t\tin={!isSubmitting}\n\t\t\t\t>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tmb={2}\n\t\t\t\t\t\tminH={10}\n\t\t\t\t\t\tw=\"60%\"\n\t\t\t\t\t\tmt={8}\n\t\t\t\t\t\tisLoading={isSubmitting}\n\t\t\t\t\t\tbg={foregroundColor}\n\t\t\t\t\t\tloadingText={'Submitting'}\n\t\t\t\t\t\tonClick={handleMoodSubmit}\n\t\t\t\t\t>\n\t\t\t\t\t\tSubmit\n\t\t\t\t\t</Button>\n\t\t\t\t</SlideFade>\n\t\t\t) : null}\n\t\t</>\n\t)\n}\n\nexport default ThoughtQuestion\n","import { useState } from 'react'\nimport useAuth from './useAuth'\nimport { FormValues, ThoughtRecord, isThoughtRecord, User } from '../types'\nimport {\n\tloadThoughtRecords,\n\tsaveThoughtRecords,\n} from '../Utils/localStorage'\n\n/* returns a function that takes in the current path and active thought record \n to update and a piece of state that shows if the data is currently being fetched */\n\ntype FetchThoughtRecord = () => Promise<ThoughtRecord>\n\ninterface useThoughtRecordReturn {\n\tdeleteThoughtRecord: (thoughtRecord: string) => Promise<string>\n\tgetActiveThoughtRecord: FetchThoughtRecord\n\tgetNewThoughtRecord: FetchThoughtRecord\n\tgetAllThoughtRecords: () => Promise<ThoughtRecord[]>\n\tupdateThoughtRecord: (\n\t\tdata: FormValues,\n\t\tactiveThoughtRecord: string,\n\t\tupdateKey: string,\n\t) => Promise<ThoughtRecord>\n\tsaveThoughtRecord: () => Promise<User>\n\teditThoughtRecord: (thoughtRecordId: string) => Promise<ThoughtRecord>\n\tisSubmitting: boolean\n}\n\nconst createThoughtRecord = (username: string): ThoughtRecord => {\n\tconst recordKey = `${Date.now()}-${Math.random().toString(16).slice(2)}`\n\treturn {\n\t\tkey: recordKey,\n\t\tuserKey: username,\n\t\ttimeCreated: Date.now(),\n\t}\n}\n\nconst useThoughtRecordApi = (): useThoughtRecordReturn => {\n\tconst { currentUser, logout, updateUser } = useAuth()\n\tconst [isSubmitting, setIsSubmitting] = useState(false)\n\n\tconst requireUser = () => {\n\t\tif (!currentUser) {\n\t\t\tlogout()\n\t\t\tthrow Error('Not signed in')\n\t\t}\n\t\treturn currentUser\n\t}\n\n\tconst getUserRecords = (username: string) =>\n\t\tloadThoughtRecords().filter((record) => record.userKey === username)\n\n\tconst saveUserRecords = (username: string, records: ThoughtRecord[]) => {\n\t\tconst otherRecords = loadThoughtRecords().filter(\n\t\t\t(record) => record.userKey !== username,\n\t\t)\n\t\tsaveThoughtRecords([...otherRecords, ...records])\n\t}\n\n\tconst updateUserState = (user: User) => {\n\t\tupdateUser(user)\n\t}\n\n\tconst handleAction = async <T,>(action: () => T): Promise<T> => {\n\t\tif (isSubmitting) {\n\t\t\tthrow Error('Already submitting')\n\t\t}\n\t\tsetIsSubmitting(true)\n\t\tconst result = action()\n\t\tsetIsSubmitting(false)\n\t\treturn result\n\t}\n\n\tconst getActiveThoughtRecord = async (): Promise<ThoughtRecord> =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\tconst records = getUserRecords(user.username)\n\t\t\tconst activeRecord = user.activeThoughtRecord\n\t\t\t\t? records.find((record) => record.key === user.activeThoughtRecord)\n\t\t\t\t: undefined\n\t\t\tif (activeRecord && isThoughtRecord(activeRecord)) {\n\t\t\t\treturn activeRecord\n\t\t\t}\n\t\t\tconst newRecord = createThoughtRecord(user.username)\n\t\t\tsaveUserRecords(user.username, [...records, newRecord])\n\t\t\tupdateUserState({\n\t\t\t\t...user,\n\t\t\t\tactiveThoughtRecord: newRecord.key,\n\t\t\t\tthoughtRecords: Array.from(\n\t\t\t\t\tnew Set([...(user.thoughtRecords || []), newRecord.key]),\n\t\t\t\t),\n\t\t\t})\n\t\t\treturn newRecord\n\t\t})\n\n\tconst getNewThoughtRecord = async (): Promise<ThoughtRecord> =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\tconst records = getUserRecords(user.username)\n\t\t\tconst newRecord = createThoughtRecord(user.username)\n\t\t\tsaveUserRecords(user.username, [...records, newRecord])\n\t\t\tupdateUserState({\n\t\t\t\t...user,\n\t\t\t\tactiveThoughtRecord: newRecord.key,\n\t\t\t\tthoughtRecords: Array.from(\n\t\t\t\t\tnew Set([...(user.thoughtRecords || []), newRecord.key]),\n\t\t\t\t),\n\t\t\t})\n\t\t\treturn newRecord\n\t\t})\n\n\tconst getAllThoughtRecords = async (): Promise<ThoughtRecord[]> =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\treturn getUserRecords(user.username)\n\t\t})\n\n\tconst saveThoughtRecord = async (): Promise<User> =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\tconst updatedUser = {\n\t\t\t\t...user,\n\t\t\t\tactiveThoughtRecord: null,\n\t\t\t}\n\t\t\tupdateUserState(updatedUser)\n\t\t\treturn updatedUser\n\t\t})\n\n\tconst deleteThoughtRecord = async (thoughtRecord: string): Promise<string> =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\tconst records = getUserRecords(user.username).filter(\n\t\t\t\t(record) => record.key !== thoughtRecord,\n\t\t\t)\n\t\t\tsaveUserRecords(user.username, records)\n\t\t\tconst updatedUser = {\n\t\t\t\t...user,\n\t\t\t\tthoughtRecords: user.thoughtRecords.filter(\n\t\t\t\t\t(record) => record !== thoughtRecord,\n\t\t\t\t),\n\t\t\t\tactiveThoughtRecord:\n\t\t\t\t\tuser.activeThoughtRecord === thoughtRecord\n\t\t\t\t\t\t? null\n\t\t\t\t\t\t: user.activeThoughtRecord,\n\t\t\t}\n\t\t\tupdateUserState(updatedUser)\n\t\t\treturn thoughtRecord\n\t\t})\n\n\tconst editThoughtRecord = async (thoughtRecordId: string) =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\tconst records = getUserRecords(user.username)\n\t\t\tconst record = records.find((entry) => entry.key === thoughtRecordId)\n\t\t\tif (!record) {\n\t\t\t\tthrow Error('Invalid return')\n\t\t\t}\n\t\t\tupdateUserState({\n\t\t\t\t...user,\n\t\t\t\tactiveThoughtRecord: record.key,\n\t\t\t})\n\t\t\treturn record\n\t\t})\n\n\tconst updateThoughtRecord = async (\n\t\tdata: FormValues,\n\t\tactiveThoughtRecord: string,\n\t\tupdateKey: string,\n\t): Promise<ThoughtRecord> =>\n\t\thandleAction(() => {\n\t\t\tconst user = requireUser()\n\t\t\tconst records = getUserRecords(user.username)\n\t\t\tconst index = records.findIndex(\n\t\t\t\t(record) => record.key === activeThoughtRecord,\n\t\t\t)\n\t\t\tif (index < 0) {\n\t\t\t\tthrow Error('Record not found')\n\t\t\t}\n\t\t\tconst updatedRecord = {\n\t\t\t\t...records[index],\n\t\t\t\t[updateKey]: data,\n\t\t\t}\n\t\t\tconst updatedRecords = [...records]\n\t\t\tupdatedRecords[index] = updatedRecord\n\t\t\tsaveUserRecords(user.username, updatedRecords)\n\t\t\treturn updatedRecord\n\t\t})\n\n\treturn {\n\t\tdeleteThoughtRecord,\n\t\tgetAllThoughtRecords,\n\t\tupdateThoughtRecord,\n\t\tgetActiveThoughtRecord,\n\t\tgetNewThoughtRecord,\n\t\tisSubmitting,\n\t\tsaveThoughtRecord,\n\t\teditThoughtRecord,\n\t}\n}\n\nexport default useThoughtRecordApi\n","export type Mood = {\n  mood: string,\n  moodRating: number\n}\nexport const isKeyOfThoughtRecord =\n  (question: string, thoughtRecord: ThoughtRecord): question is keyof ThoughtRecord => {\n    return question in thoughtRecord\n  }\nexport const isQuestion = (pathname: any): pathname is QuestionType => {\n  return (question.includes(pathname))\n}\n\nexport type FormValues = String | Mood[] | Thoughts | ThoughtRecord\n\nexport const question = [\n  \"/emotion\",\n  \"/situationquestion\",\n  \"/mood\",\n  \"/thoughts\",\n  \"/evidencefor\",\n  \"/evidenceagainst\",\n  \"/alternativethought\",\n  \"/rerateemotion\",\n  \"/submit\"\n] as const\n\nexport type QuestionType = typeof question[number]\n\nexport const thoughtRecordData = {\n  \"/emotion\": { label: \"How do you feel?\", type: \"Emotion\" },\n  \"/situationquestion\": { label: \"What is the Situation?\", type: \"Text\" },\n  \"/mood\": { label: \"Add any emotions you felt and rate them\", type: \"Mood\" },\n  \"/thoughts\": { label: \"List any thoughts and rate your Belief\", type: \"Thoughts\" },\n  \"/evidencefor\": { label: \"What is the Evidence for\", type: \"Text\" },\n  \"/evidenceagainst\": { label: \"What is the Evidence Against\", type: \"Text\" },\n  \"/alternativethought\": { label: \"\", type: \"Text\" },\n  \"/rerateemotion\": { label: \"How do you feel?\", type: \"Emotion\" },\n  \"/submit\": { label: \"something\", type: \"Submit\" }\n}\n\nconst thoughtRecordKeys =\n  [\n    \"key\",\n    \"emotion\",\n    \"userKey\",\n    \"timeCreated\",\n    \"mood\",\n    \"thoughts\",\n    \"answer\",\n    \"rerateemotion\",\n    \"situationquestion\",\n    \"evidencefor\",\n    \"evidenceagainst\",\n    \"alternativethought\"\n  ]\n\n\nexport interface Thoughts {\n  thoughts: Mood[],\n  hotThought: string\n}\n\nexport const isThoughtRecord = (record: any): record is ThoughtRecord => {\n  if (record) {\n    return \"timeCreated\" in record\n  }\n  return false\n}\nexport const isFullThoughtRecord = (record: any): record is FullThoughtRecord => {\n  if (!record) {\n    return false\n  }\n  const keys = Object.keys(record)\n  for (let key of keys) {\n    if (!thoughtRecordKeys.includes(key)) {\n      return false\n    }\n  }\n  return true\n}\n\nexport interface User {\n  activeThoughtRecord: string | null\n  thoughtRecords: string[]\n  username: string\n  firstName?: string\n  lastName?: string\n}\nexport type FullThoughtRecord = Required<ThoughtRecord>\n\nexport interface ThoughtRecord {\n  userKey: string\n  key: string\n  timeCreated: number,\n  emotion?: string,\n  mood?: Mood[],\n  thoughts?: Thoughts\n  answer?: string,\n  rerateemotion?: string,\n  situationquestion?: string,\n  evidencefor?: string,\n  evidenceagainst?: string\n  alternativethought?: Mood[]\n}  \n","import { useToast } from '@chakra-ui/react'\nimport { useEffect, useState } from 'react'\nimport { useLocation, useNavigate } from 'react-router-dom'\nimport {\n\tThoughtRecord,\n\tisThoughtRecord,\n\tisKeyOfThoughtRecord,\n\tQuestionType,\n\tquestion,\n\tthoughtRecordData,\n\tisQuestion,\n\tFormValues,\n} from '../types'\nimport useThoughtRecordApi from './useThoughtRecordApi'\n\ninterface UseThoughtRecordReturn {\n\tlabel: string\n\tonSubmit: (data: FormValues) => void\n\tisSubmitting: boolean\n\tcurrentQuestion: string\n\tisValidQuestion: boolean | null\n\tthoughtRecord: ThoughtRecord | undefined\n}\n\nconst getLastValid = (pathname: QuestionType, thoughtRecord: ThoughtRecord) => {\n\tfor (let path of question) {\n\t\tlet thoughtRecordKey = path.slice(1)\n\t\tif (path === pathname) {\n\t\t\treturn path\n\t\t}\n\t\tif (isKeyOfThoughtRecord(thoughtRecordKey, thoughtRecord)) {\n\t\t\tif (thoughtRecord[thoughtRecordKey] === null) {\n\t\t\t\treturn path\n\t\t\t}\n\t\t}\n\t}\n\treturn pathname\n}\nconst UseThoughtRecord = (): UseThoughtRecordReturn | never => {\n\tconst toast = useToast()\n\tconst navigate = useNavigate()\n\tconst { pathname, state } = useLocation()\n\tconst [thoughtRecord, setThoughtRecord] = useState<ThoughtRecord>()\n\tconst [isValidQuestion, setIsValidQuestion] = useState<boolean | null>(null)\n\tconst {\n\t\tupdateThoughtRecord,\n\t\tgetActiveThoughtRecord,\n\t\tisSubmitting,\n\t\tsaveThoughtRecord,\n\t} = useThoughtRecordApi()\n\n\tuseEffect(() => {\n\t\tif (!isValidQuestion && isQuestion(pathname)) {\n\t\t\tif (thoughtRecord) {\n\t\t\t\tconst lastValid = getLastValid(pathname, thoughtRecord)\n\t\t\t\tif (lastValid !== pathname) {\n\t\t\t\t\tnavigate(lastValid)\n\t\t\t\t} else {\n\t\t\t\t\tsetIsValidQuestion(true)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}, [isValidQuestion, navigate, pathname, thoughtRecord])\n\n\tuseEffect(() => {\n\t\tconst getThoughtRecord = async () => {\n\t\t\tif (!thoughtRecord) {\n\t\t\t\tif (isThoughtRecord(state)) {\n\t\t\t\t\tsetThoughtRecord(state)\n\t\t\t\t} else {\n\t\t\t\t\tsetThoughtRecord(await getActiveThoughtRecord())\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tif (!thoughtRecord) {\n\t\t\tgetThoughtRecord()\n\t\t}\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\n\t}, [])\n\n\tconst onSubmit = async (data: FormValues) => {\n\t\tif (isQuestion(pathname)) {\n\t\t\tif (pathname === '/submit') {\n\t\t\t\ttry {\n\t\t\t\t\tawait saveThoughtRecord()\n\t\t\t\t\tnavigate('/thoughtrecords')\n\t\t\t\t} catch (error) {\n\t\t\t\t\tif (error instanceof Error) {\n\t\t\t\t\t\ttoast({\n\t\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\t\tdescription: 'problem submitting',\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tconst updateKey = pathname.slice(1)\n\t\t\t\tconst activeThoughtRecord: string = isThoughtRecord(thoughtRecord)\n\t\t\t\t\t? thoughtRecord.key\n\t\t\t\t\t: ''\n\t\t\t\tconst NextLinkIndex = question.indexOf(pathname) + 1\n\t\t\t\ttry {\n\t\t\t\t\tconst updatedRecord = await updateThoughtRecord(\n\t\t\t\t\t\tdata,\n\t\t\t\t\t\tactiveThoughtRecord,\n\t\t\t\t\t\tupdateKey,\n\t\t\t\t\t)\n\t\t\t\t\tnavigate(question[NextLinkIndex], { state: { ...updatedRecord } })\n\t\t\t\t} catch {\n\t\t\t\t\ttoast({\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\tdescription: 'problem with update',\n\t\t\t\t\t})\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\tlet label: string = ''\n\tlet currentQuestion: string = ''\n\tif (isQuestion(pathname)) {\n\t\tlabel = thoughtRecordData[pathname].label\n\t\tcurrentQuestion = pathname.slice(1)\n\t}\n\treturn {\n\t\tlabel: label,\n\t\tonSubmit: onSubmit,\n\t\tisSubmitting: isSubmitting,\n\t\tcurrentQuestion: currentQuestion,\n\t\tthoughtRecord: thoughtRecord,\n\t\tisValidQuestion: isValidQuestion,\n\t}\n}\nexport default UseThoughtRecord\n"],"names":["_ref","isSubmitting","moods","setMoods","selectOptions","label","currentQuestion","useThoughtRecord","selectedMood","setSelectedMood","useState","_jsxs","_Fragment","children","SlideFade","offsetY","offsetX","transition","enter","delay","duration","exit","style","flexDirection","alignItems","display","height","width","in","Box","p","w","mt","mb","mx","_jsx","FormLabel","color","fontSize","CreatableSelect","size","onChange","handleChange","option","actionMeta","value","options","Button","alignSelf","onClick","addMood","mood","map","includes","moodRating","minH","my","Heading","MoodList","sliderColor","MoodEntry","_ref3","deleteHandler","sliderChange","UseThoughtRecord","isDeleting","setIsDeleting","foregroundColor","UseThemeColors","Fade","base","lg","HStack","rounded","bg","pl","pr","justifyContent","VStack","ml","spacing","Text","textAlign","Slider","colorScheme","slice","mr","SliderTrack","SliderFilledTrack","Tooltip","hasArrow","zIndex","placement","isOpen","concat","SliderThumb","DeleteButton","setTimeout","animateThenDelete","_ref4","IconButton","variant","icon","CloseIcon","Center","_ref2","moodName","filter","thoughts","onSelect","selected","minHeight","thought","ThoughtQuestion","thoughtData","partialThoughtData","_objectSpread","setThoughts","SetSelected","onSubmit","thoughtRecord","doneThoughts","setDoneThoughts","useEffect","thoughtIDs","HotThoughtSelect","SelectQuestion","length","isLoading","loadingText","handleMoodSubmit","hotThought","LoadingTextField","createThoughtRecord","username","key","Date","now","Math","random","toString","userKey","timeCreated","useThoughtRecordApi","currentUser","logout","updateUser","useAuth","setIsSubmitting","requireUser","Error","getUserRecords","loadThoughtRecords","record","saveUserRecords","records","otherRecords","saveThoughtRecords","updateUserState","user","handleAction","async","result","action","deleteThoughtRecord","updatedUser","thoughtRecords","activeThoughtRecord","getAllThoughtRecords","updateThoughtRecord","data","updateKey","index","findIndex","updatedRecord","updatedRecords","getActiveThoughtRecord","activeRecord","find","undefined","isThoughtRecord","newRecord","Array","from","Set","getNewThoughtRecord","saveThoughtRecord","editThoughtRecord","entry","thoughtRecordId","isKeyOfThoughtRecord","question","isQuestion","pathname","thoughtRecordData","type","toast","useToast","navigate","useNavigate","state","useLocation","setThoughtRecord","isValidQuestion","setIsValidQuestion","lastValid","getLastValid","path","thoughtRecordKey","getThoughtRecord","error","status","description","NextLinkIndex","indexOf","_unused"],"ignoreList":[],"sourceRoot":""}